<div
  class="relative min-h-screen flex items-center justify-center px-4 bg-indigo-50 dark:bg-[#0f0a1c]"
>
  <!-- Background Glow -->
  <div class="absolute inset-0 pointer-events-none">
    <div
      class="absolute -top-40 -left-40 w-[500px] h-[500px] bg-purple-500/30 rounded-full blur-3xl"
    ></div>
    <div
      class="absolute -bottom-40 -right-40 w-[500px] h-[500px] bg-fuchsia-500/30 rounded-full blur-3xl"
    ></div>
  </div>

  <!-- Card -->
  <div
    class="relative z-10 w-full max-w-md rounded-2xl border border-black/5 dark:border-white/10 bg-white/80 dark:bg-[#140d2a]/80 backdrop-blur-xl shadow-xl p-8 text-center"
  >
    <!-- Microsoft Badge -->
    <div class="flex justify-center mb-6">
      <div
        class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-black/5 dark:bg-white/10 text-xs font-medium text-black/70 dark:text-white/70"
      >
        <svg width="14" height="14" viewBox="0 0 23 23">
          <rect x="1" y="1" width="9" height="9" fill="#F25022" />
          <rect x="13" y="1" width="9" height="9" fill="#7FBA00" />
          <rect x="1" y="13" width="9" height="9" fill="#00A4EF" />
          <rect x="13" y="13" width="9" height="9" fill="#FFB900" />
        </svg>
        Microsoft Sign-In
      </div>
    </div>

    <!-- Loading -->
    <div *ngIf="status() === 'loading'" class="space-y-6">
      <div
        class="mx-auto w-14 h-14 rounded-full border-4 border-purple-200 border-t-purple-500 animate-spin"
      ></div>

      <p class="text-sm font-medium text-black/70 dark:text-white/70">
        {{ message() }}
      </p>
    </div>

    <!-- Success -->
    <div *ngIf="status() === 'success'" class="space-y-6">
      <div
        class="mx-auto w-16 h-16 rounded-full bg-green-500/10 text-green-600 flex items-center justify-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-8 h-8"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
      </div>

      <p class="text-lg font-semibold text-black dark:text-white">
        {{ message() }}
      </p>

      <a
        routerLink="/dashboard"
        class="inline-flex items-center justify-center px-5 py-3 rounded-xl bg-purple-600 hover:bg-purple-700 text-white font-medium transition"
      >
        Continue to Dashboard
      </a>
    </div>

    <!-- Error -->
    <div *ngIf="status() === 'error'" class="space-y-6">
      <div
        class="mx-auto w-16 h-16 rounded-full bg-red-500/10 text-red-600 flex items-center justify-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-8 h-8"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
      </div>

      <p class="text-lg font-semibold text-black dark:text-white">
        {{ message() }}
      </p>

      <div class="flex justify-center gap-3 pt-2">
        <button
          (click)="retry()"
          class="px-5 py-3 rounded-xl bg-purple-600 hover:bg-purple-700 text-white font-medium transition"
        >
          Retry
        </button>

        <a
          routerLink="/auth"
          class="px-5 py-3 rounded-xl border border-black/10 dark:border-white/10 text-black dark:text-white hover:bg-black/5 dark:hover:bg-white/10 transition"
        >
          Back to Auth
        </a>
      </div>
    </div>
  </div>
</div>
